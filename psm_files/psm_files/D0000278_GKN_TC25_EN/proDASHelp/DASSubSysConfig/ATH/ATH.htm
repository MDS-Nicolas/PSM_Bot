<!DOCTYPE HTML>
<html>
<!-- #BeginTemplate "/Templates/Modules.dwt" --><!-- DW6 -->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">  

<!--Start, needed for Search highlighting-->
<style type="text/css">.highlight { background: #FFFF40; }</style>
<script type="text/javascript" src="../../highlight.js"></script>
<!--End, needed for Search highlighting-->

<!-- #BeginEditable "doctitle" --> 
<title>Ambient Temperature/Humidity (ATH) Subsystem</title>
<!-- #EndEditable --> 
<link rel="stylesheet" href="../../stylemodule.css" type="text/css">
</head>

<body>
<!-- #BeginEditable "Main" -->
<div float:left><h1 id="WeatherStation">Ambient Temperature/Humidity (ATH) Subsystem (Option*)<a href="#" onClick="window.print(); return false;"><img src="../../Images/IconPrint.png" alt="Print Icon" width="45" height="62" style="display:block; float: right;" ></a></h1></div>
<h2 id="Overview">Overview</h2>
<p>The Ambient Temperature and Humidity Subsystem (ATH) interfaces to a number of different hardware devices in order to obtain results of ambient temperature, humidity, dew point or barometer measurements. These devices all communicate over a serial RS-232 interface.</p>
<p>The currently supported devices include:</p>
<ul>
  <li>Hygro-M2 Humidity Monitor that transmits data for the ambient temperature, humidity and dew point</li>
  <li>Druck DPI 141 that transmits barometric pressure data</li>
  <li>Setra 470 that transmits barometric pressure data</li>
  <li>Mensor CPT6100 that transmits barometric pressure data</li>
</ul>
<p>The subsystem can be configured to communicate with any one of these devices. The entries in the .config file for the subsystem specify the specific channel name(s) that will be updated with the data being received from the hardware device. These channel name(s) must match the channel name(s) defined in the Subsystem configuration file.</p>
<h2 id="ConfigATHChannel">Configuring an ATH Channel</h2>
<p>The following channels are available for configuration of the ATH Subsystem:</p>
<p><strong>Hygro-M2 Humidity Monitor</strong></p>
<ul>
  <li>Air temperature - the channel name is taken from the .config file</li>
  <li>Humidity - the channel name is taken from the .config file</li>
  <li>Dew point - the channel name is taken from the .config file</li>
</ul>
<p><strong>Druck DPI 141 or Setra 470</strong></p>
<ul>
  <li>Barometric pressure - the channel is taken from the .config file</li>
</ul>
<p>To configure an ATH Channel:</p>
<p class="Note">If the desired subsystem is missing from the subsystem list or multiple subsystems (of the same type) are required, the operator must first create the subsystem(s). To create a subsystem, see <a href="../SubsystemEditor/SubsystemEditor.htm">Subsystem Editor</a>.</p>
<ol>
  <li>Append a channel by selecting <strong>Append</strong> from the Edit menu as described in <a href="../ConfigEditors/ConfigEditors.htm#MenuEdit">Configuration Editors</a>.</li>
  <li>Select the name of the Ambient Temperature/Humidity Subsystem from the list of available subsystems.
    <div class="Container"><img src="images/SelectSubsystemName.PNG" alt="SelectSubsystemName" width="387" height="317"></div>
  </li>
  <br>
  <li>Fill the category independent columns as described in <a href="../ConfigEditors/ConfigEditors.htm#GenCol">Configuration Editors</a>. </li>
  <li>Fill the Channel Specific Columns as described in the <a href="../ChannelEditor/ChannelEditor.htm#TabDelimitFileStructure">Channel Editor</a>.
    <div class="Container"><img height="424" src="images/ChannelEditor.png" alt="ChannelEditor" width="700"></div>
  </li>
</ol>
<h2 id="ConfigFileStructure">Configuration File Structure</h2>
<p>Channel configuration information (e.g.: hardware connection, calculation, limits or actions) can be defined and manipulated through the <a href="../ChannelEditor/ChannelEditor.htm">Channel Editor</a> or imported directly from either an XML file or a tab-delimited text file.</p>
<p>To import configuration information from an XML file, see <a href="../ConfigEditors/ConfigEditors.htm#FileImportMenu"> Selecting the menu item File - Import in the Configuration Editors module</a>. For detailed XML file structure information required to import an <strong>ATH </strong> channel, see <a href="?10#XMLFileStructure"> XML File Structure</a>.</p>
<p>To import configuration information from a tab-delimited file, see <a href="../ChannelEditor/ChannelEditor.htm#FileImportTAB">Extras -- Import TAB-delimited in the Channel Editor module</a>. For detailed tab-delimited file structure information required to import an <strong>ATH</strong> channel, see <a href="?11#TabDelimitFileStructure">Tab-Delimited File Structure</a>.</p>
<h3 id="XMLFileStructure">XML File Structure</h3>
<h4 id="ChannelsXML">Channels</h4>
<p>The channels are stored in files Channels.xml in the configuration directories.</p>
<p>An ATH Channel contains generic information, described in <a href="../ChannelEditor/ChannelEditor.htm#XMLFileStructure">Channel Editor 
- Generic Channel Parameters - XML File Structure</a>. There are no subsystem specific columns.</p>
<p>The structure of an Ambient Temperature/Humidity Channel complies with the following example:</p>
<blockquote>
  <pre>
&lt;Channels LastModificationDate=&quot;<strong>2015-06-10 14:06:16</strong>&quot; Version=&quot;<strong>1.1</strong>&quot;&gt;
&lt;Channel Name=&quot;ZZATH&quot;
Description=&quot;&quot;
Enabled=&quot;true&quot;
LastModificationDate=&quot;2015-06-10 14:06:16&quot;
SubsystemName=&quot;ATH&quot;
SubsystemType=&quot;ATH&quot;
AlternateName=&quot;&quot;
DataType=&quot;Float&quot;
InitialValue=&quot;-999999&quot;
Format=&quot;4.2f&quot;
UpdateRate=&quot;1&quot;
QualityCeiling=&quot;GOOD&quot;
Critical=&quot;false&quot;
EngineeringUnit=&quot;-&quot;
DisplayMin=&quot;0&quot;
DisplayMax=&quot;100&quot;
DeadBand=&quot;0&quot;
Output=&quot;false&quot;
ReferenceChannel=&quot;&quot;
Group=&quot;&quot;
SignalId=&quot;&quot;
CalSensor=&quot;&quot;
CalGroup=&quot;&quot;
FixedSensor=&quot;&quot;
CustomerSensor=&quot;&quot;
FullsetStability=&quot;false&quot;
ContinuousLog=&quot;true&quot;/&gt;
&lt;/Channels&gt;
</pre>
</blockquote>
<h4 id="SubsystemsXML">Subsystems</h4>
<p>The subsystems are stored in files Subsystems.xml in the configuration directories.</p>
<p>An ATH Subsystem contains generic information, described in <a href="../SubsystemEditor/SubsystemEditor.htm#XMLFileStructure">Subsystem Editor - Generic Subsystem Parameters - XML File Structure</a>. There are no subsystem specific columns.</p>
<h3 id="TabDelimitFileStructure">Tab-Delimited File Structure</h3>
<p>The Ambient Temperature/Humidity (ATH) Subsystem channel definition includes all <a href="../ChannelEditor/ChannelEditor.htm#TabDelimitFileStructure">generic channel definition columns</a>. No subsystem specific configuration 
  information is required.</p>
<h2 id="SubsysEditor">Subsystem Editor for ATH Channels</h2>
<p>To edit the ATH Subsystem, the Subsystem Editor must be selected from within the Configuration Administrator.</p>
<p>The tool bar in the Configuration Administrator allows the various configuration editors available for proDAS to be selected.</p>
<p>The Subsystem Editor allows new subsystems to be added to the current configuration.</p>
<div class="Container"><img src="images/SubsystemEditor.png" alt="SubsystemEditor" width="700" height="423"></div>
<p>To add a new subsystem:</p>
<ol>
  <li>From the Edit menu, select <strong>Append Data Record</strong> or, in the left pane of the splitter window, click the right mouse button and select <strong>Append Data Record</strong> from the context sensitive menu.</li>
  <li>Select <strong>ATH</strong> in the dialogue box to select the type of subsystem.<br>
    A new line in Subsystem Editor is appended to the current subsystem configuration in the left pane of the splitter window and the subsystem type is set to <strong>ATH</strong>. The user must then assign a name and description to the subsystem.</li>
</ol>
<h2 id="RTEInitialiseFile">RTE Initialisation File</h2>
<p>The RTE Initialisation File must, as a minimum, include the following information:</p>
<ul>
  <li>device (serial port #)</li>
  <li>baudrate (default: 9600)</li>
  <li>databit (default: 8)</li>
  <li>stop bit (default: 1)</li>
  <li>parity (default: even)</li>
  <li>timeout (default: 1000 ms)</li>
  <li>device type being used (Hygro_M2, DPI141 or SETRA470)</li>
  <li>channel names specific to the device being used (temp_ch_name, hum_ch_name, dp_ch_name, baro_ch_name). These specified names must be in the ATH Subsystem Configuration file of the proDAS system.</li>
</ul>
<p>A typical RTE initialisation file would include the following Ambient Temperature/Humidity Subsystem information:</p>
<table width="95%" border="0" cellspacing="1" cellpadding="2">
  <tr>
    <td colspan="2">#--------------------------------------------------------------------------<br>
      # Ambient Temperature/Humidity Subsystem<br>
      #--------------------------------------------------------------------------</td>
  </tr>
  <tr>
    <td width="19%">SS ATH_01</td>
    <td width="81%">TRUE</td>
  </tr>
  <tr>
    <td width="19%">CI ath_dev_name</td>
    <td width="81%">/dev/ttyd3</td>
  </tr>
  <tr>
    <td width="19%">CI ath_time_out</td>
    <td width="81%">100</td>
  </tr>
  <tr>
    <td width="19%">CI ath_baud_rate</td>
    <td width="81%">1200</td>
  </tr>
  <tr>
    <td width="19%">CI ath_stop_bits</td>
    <td width="81%">1</td>
  </tr>
  <tr>
    <td width="19%">CI ath_data_bits</td>
    <td width="81%">8</td>
  </tr>
  <tr>
    <td width="19%">CI ath_parity</td>
    <td width="81%">0</td>
  </tr>
  <tr>
    <td width="19%">CI dp_ch_name</td>
    <td width="81%">ATH_DP</td>
  </tr>
  <tr>
    <td width="19%">CI hum_ch_name</td>
    <td width="81%">ATH_HUM</td>
  </tr>
  <tr>
    <td width="19%">CI temp_ch_name</td>
    <td width="81%">ATH_TEMP</td>
  </tr>
  <tr>
    <td>CI ath_device_type</td>
    <td>Hygro_M2</td>
  </tr>
  <tr>
    <td>CI max_attempts</td>
    <td>5</td>
  </tr>
</table>
<p><a href="../../References/DASIniFiles/RTEInitialisationFile.pdf">Click here to see the RTE Initialisation file.</a></p>
<br>
<br>
<!-- #EndEditable -->
</body>

<!-- #EndTemplate --></html>
<script type="text/javascript">highlight();</script>
