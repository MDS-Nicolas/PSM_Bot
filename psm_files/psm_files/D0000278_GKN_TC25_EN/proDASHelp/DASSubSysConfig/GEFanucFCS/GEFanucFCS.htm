<!DOCTYPE HTML>
<html>
<!-- #BeginTemplate "/Templates/Modules.dwt" --><!-- DW6 -->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">  

<!--Start, needed for Search highlighting-->
<style type="text/css">.highlight { background: #FFFF40; }</style>
<script type="text/javascript" src="../../highlight.js"></script>
<!--End, needed for Search highlighting-->

<!-- #BeginEditable "doctitle" --> 
<title>Generic PLC Subsystem</title>
<!-- #EndEditable --> 
<link rel="stylesheet" href="../../stylemodule.css" type="text/css">
</head>

<body>
<!-- #BeginEditable "Main" -->
<div float:left><h1 id="GEFanucFCS">Generic PLC Subsystem (Option*)<a href="#" onClick="window.print(); return false;"><img src="../../Images/IconPrint.png" alt="Print Icon" width="45" height="62" style="display:block; float: right;" ></a></h1></div>
<h2 id="Overview">Overview</h2>
<p>The Programmable Logic Controller (PLC), with discrete and analogue input/output modules, controls and monitors the engine test facility, engine support systems and some engine controls. The PLC is a stand alone system used to run the ladder logic code to control the Engine Control System (ECS) and Facility Control System (FCS). The PLC utilises an Ethernet local area network and RS232 to communicate with the Human Machine Interface (HMI). The RS232 serial connection is used primarily as a backup method. The PLC communicates with proDAS using an RS232 serial connection.</p>
<h2 id="ConfigFCSChannel">Configuring a Generic PLC Channel</h2>
<p>To configure a Generic PLC Channel:</p>
<p class="Note">If the desired subsystem is missing from the subsystem list or multiple subsystems (of the same type) are required, the operator must first create the subsystem(s). To create a subsystem, see <a href="../SubsystemEditor/SubsystemEditor.htm">Subsystem Editor</a>.</p>
<ol>
  <li>Append a channel by selecting <strong>Append</strong> from the Edit menu as described in <a href="../ConfigEditors/ConfigEditors.htm#MenuEdit">Configuration Editors</a>.</li>
  <li>Select the name of the Generic PLC Subsystem from the list of available subsystems.
    <div class="Container"><img src="images/SelectSubsystemName.png" alt="SelectSubsystemName" width="387" height="317"></div>
  </li>
  <br>
  <li>Fill the category independent columns as described in <a href="../ConfigEditors/ConfigEditors.htm#GenCol">Configuration Editors</a><a href="../ConfigEditors/ConfigEditors.htm#GenCol"></a>.</li>
  <li>Fill the Channel Specific Columns as described in the <a href="../ChannelEditor/ChannelEditor.htm#TabDelimitFileStructure">Channel Editor</a>.</li>
  <li>Set the <strong>Address</strong> column.</li>
  <li>And if the channel data type is Float, set the <strong>Slope</strong> and <strong>Offset</strong> columns.
    <div class="Container"><img src="images/ChannelEditor.png" alt="ChannelEditor" width="700" height="424"></div>
  </li>
</ol>
<h2 id="ConfigFileStructure">Configuration File Structure</h2>
<p>Channel configuration information (e.g.: hardware connection, calculation, limits or actions) can be defined and manipulated through the <a href="../ChannelEditor/ChannelEditor.htm">Channel Editor</a> or imported directly from either an XML file or a tab-delimited text file.</p>
<p>To import configuration information from an XML file, see <a href="../ConfigEditors/ConfigEditors.htm#FileImportMenu"> Selecting the menu item File - Import in the Configuration Editors module</a>. For detailed XML file structure information required to import a <strong>PLCGE</strong> channel, see <a href="?10#XMLFileStructure"> XML File Structure</a>.</p>
<p>To import configuration information from a tab-delimited file, see <a href="../ChannelEditor/ChannelEditor.htm#FileImportTAB">Extras 
  -- Import TAB-delimited in the Channel Editor module</a>. For detailed tab-delimited file structure information required to import a <strong>PLCGE</strong> channel, see <a href="?11#TabDelimitFileStructure"> Tab-Delimited File Structure</a>.</p>
<h3 id="XMLFileStructure">XML File Structure</h3>
<h4 id="ChannelsXML">Channels</h4>
<p>The channels are stored in <em>Channels.xml</em> files in the configuration directories.</p>
<p>A PLCGE Channel contains generic information, described in <a href="../ChannelEditor/ChannelEditor.htm#XMLFileStructure">Channel Editor - Generic Channel Parameters - XML File Structure</a>, and the specific attributes <strong>Address</strong>, <strong>Slope</strong>, and <strong>Offset</strong>. These attributes are explained in the table below.</p>
<table class="Table-Grey">
  <tr >
    <th>Column Name</th>
    <th>XML Attribute Name</th>
    <th>Tab-Delimited Attribute Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Acceptable Values</th>
  </tr>
  <tr>
    <td>Address</td>
    <td>Address</td>
    <td>ADDRESS</td>
    <td>The physical memory address of the data item on the PLC</td>
    <td>Integer</td>
    <td>An Integer between 1 and the maximum address defined in the PLCGE subsystem</td>
  </tr>
  <tr>
    <td>Slope (Float only)</td>
    <td>Slope</td>
    <td>SCALE</td>
    <td>The slope of the linear equation used to convert  the input float channel data being read from the PLC</td>
    <td>Float</td>
    <td>A Float</td>
  </tr>
  <tr>
    <td>Offset (Float only)</td>
    <td>Offset</td>
    <td>OFFSET</td>
    <td>The offset of the linear equation used to  convert the input float channel data being read from the PLC</td>
    <td>Float</td>
    <td>A Float</td>
  </tr>
</table>
<p>The structure of a Generic PLC Channel complies with the following example:</p>
<blockquote><code>&lt;Channels LastModificationDate=&quot;<strong>2015-06-11 08:44:09</strong>&quot; Version=&quot;<strong>1.1</strong>&quot;&gt;<br>
  &lt;Channel Name=&quot;PLCGE1&quot; <br>
  Description=&quot;&quot; <br>
  Enabled=&quot;true&quot; <br>
  LastModificationDate=&quot;2015-06-11 08:44:09&quot; <br>
  SubsystemName=&quot;PLCGE&quot; <br>
  SubsystemType=&quot;PLCGE&quot; <br>
  AlternateName=&quot;&quot; <br>
  DataType=&quot;Float&quot; <br>
  InitialValue=&quot;-999999&quot; <br>
  Format=&quot;4.2f&quot; <br>
  UpdateRate=&quot;1&quot; <br>
  QualityCeiling=&quot;GOOD&quot; <br>
  Critical=&quot;false&quot; <br>
  EngineeringUnit=&quot;-&quot; <br>
  DisplayMin=&quot;0&quot; <br>
  DisplayMax=&quot;100&quot; <br>
  DeadBand=&quot;0&quot; <br>
  Output=&quot;false&quot; <br>
  ReferenceChannel=&quot;&quot; <br>
  Group=&quot;&quot; <br>
  SignalId=&quot;&quot; <br>
  CalSensor=&quot;&quot; <br>
  CalGroup=&quot;&quot; <br>
  FixedSensor=&quot;&quot; <br>
  CustomerSensor=&quot;&quot; <br>
  FullsetStability=&quot;false&quot; <br>
  ContinuousLog=&quot;true&quot; <br>
  Address=&quot;1&quot; <br>
  Slope=&quot;2&quot; <br>
  Offset=&quot;3&quot;/&gt;<br>
  &lt;/Channels&gt;<br>
</code></blockquote>
<h4 id="SubsystemsXML">Subsystems</h4>
<p>The subsystems are stored in <em>Subsystems.xml</em> files in the configuration directories.</p>
<p>A Generic PLC Subsystem contains generic information, described in <a href="../SubsystemEditor/SubsystemEditor.htm#XMLFileStructure"> </a><a href="../ChannelEditor/ChannelEditor.htm">Subsystem Editor - Generic Subsystem Parameters - XML File Structure</a>, and the specific attributes:</p>
<table class="Table-Grey">
  <tr>
    <th>Label</th>
    <th>XML Attribute Name</th>
    <th>Tab-Delimited Attribute Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Acceptable Values</th>
  </tr>
  <tr>
    <td>Max Float Input Address</td>
    <td>MaxFloatInAddress</td>
    <td>FLOAT_IN_ADD</td>
    <td> Maximum address available for the float data travelling from the PLC to the RTE</td>
    <td>Integer</td>
    <td>positive</td>
  </tr>
  <tr>
    <td>Max Float Output Address</td>
    <td>MaxFloatOutAddress</td>
    <td>FLOAT_OUT_ADD</td>
    <td> Maximum address available for the float data travelling from the RTE to the PLC</td>
    <td>Integer</td>
    <td>positive</td>
  </tr>
  <tr>
    <td>Max Boolean Input Address</td>
    <td>MaxBooleanInAddress</td>
    <td>DISC_IN_ADD</td>
    <td>Maximum address available for the Boolean data traveling from the PLC to the RTE</td>
    <td>Integer</td>
    <td>positive</td>
  </tr>
  <tr>
    <td>Max Boolean Output Address</td>
    <td>MaxBooleanOutAddress</td>
    <td>DISC_OUT_ADD</td>
    <td>Maximum address available for the float data traveling from the RTE to the PLC</td>
    <td>Integer</td>
    <td>positive</td>
  </tr>
</table>
<p>The structure of a PLCGE Subsystem is shown in the following example:</p>
<blockquote>
  <pre>&lt;Subsystems   LastModificationDate=&quot;<strong>2008-09-04   14:13:03</strong>&quot; Version=&quot;<strong>1.1</strong>&quot;&gt;
&lt;Subsystem Name=&quot;ZZPLCGE&quot;
Description=&quot;&quot;
Enabled=&quot;true&quot;
LastModificationDate=&quot;2008-04-28 11:23:34&quot;
Id=&quot;0&quot;
Type=&quot;PLCGE&quot;
CreationDate=&quot;2008-04-28 11:19:24&quot;
MaxFloatInAddress=&quot;20000&quot;
MaxBooleanInAddress=&quot;200&quot;
MaxFloatOutAddress=&quot;2000&quot;
MaxBooleanOutAddress=&quot;20&quot; /&gt;
&lt;/Subsystems&gt;</pre>
</blockquote>
<h3 id="TabDelimitFileStructure">Tab-Delimited File Structure</h3>
<p>The PLC (Generic) subsystem refers only to those channels that are to be transferred to the RTE for display, monitoring, logging, etc. The PLC ladder logic and displays are downloaded directly to the PLC and PLC PC.</p>
<p>The PLC (Generic) channel configuration contains both the <a href="../ChannelEditor/ChannelEditor.htm#TabDelimitFileStructure">generic channel definition columns</a> and the specific PLC (Generic) input parameters defined in the tab-delimited configuration file.</p>
<p>The rules, syntax and guidelines for creating PLC Generic channels are described in the following table:</p>
<table class="Table-Grey">
  <tr>
    <th>Column Name</th>
    <th>Description</th>
    <th>Syntax (data type expected in the column)</th>
    <th> Multiple Values Allowed (See Note*)</th>
    <th>Data Required (See Note**)</th>
  </tr>
  <tr>
    <td>SCALE</td>
    <td>Specifies the slope of the linear equation to use to convert the input data received from the PLC. For DISCRETE channels, a value of 1 should be entered.</td>
    <td>Number</td>
    <td>No</td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>OFFSET</td>
    <td>Specifies the offset of the linear equation to use to convert the input data received from the PLC. For DISCRETE channels, a value of 0 should be entered.</td>
    <td>Number</td>
    <td>No</td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>ADDRESS</td>
    <td>Specifies physical memory address of the data item on the PLC.
      <p class="Note">The limit for analogue channels should be an address range of 500 (i.e. 1-500, or 5001-5500) and the limit for discrete channels should be an address range of 2000 (i.e. 1-2000, or 3001-5000).</p></td>
    <td>Number</td>
    <td>No</td>
    <td>Yes</td>
  </tr>
  <tr>
    <td colspan="5"><p class="Note">&quot;Yes&quot; indicates that more than one column value may be specified for a single channel. In this case, additional lines follow the first line of a channel definition.<br>
      <br>
      An additional line is identified by a &quot;*&quot; in its first column (the generic NAME column). Only fields that cause a channel to be defined on more than one line (like LIMIT_TYPE when a channel has more than one limit defined) are qualified as multi-line. Fields that appear multiple times as attributes of a multi-line field (like VALUE), are not qualified as multi-line.<br>
      <br>
      &quot;No&quot; means that the channel is restricted to a single line of the spread sheet.</p>
      <p class="Note">&quot;Yes&quot; indicates that the field must contain data (it cannot be left blank or filled with an asterisk).<br>
        <br>
        &quot;No&quot; indicates that the field is always optional.</p></td>
  </tr>
</table>
<h2 id="SubSysEditorFCS">Subsystem Editor for PLC Channels</h2>
<p>To edit the Generic PLC&nbsp;Subsystem, the Subsystem Editor must be selected from within the Configuration Administrator.</p>
<p>The tool bar in the Configuration Administrator allows the various configuration editors available for proDAS to be selected.</p>
<p>The Subsystem Editor allows new subsystems to be added to the current configuration.</p>
<div class="Container"><img src="images/SubsystemEditor.png" alt="SubsystemEditor" width="700" height="423"></div>
<br>
<p><strong>To add a new subsystem:</strong></p>
<ol>
  <li>From the Edit menu, select <strong>Append Data Record</strong> or, in the left pane of the splitter window and then click the right mouse button and select <strong>Append Data Record</strong> from the context sensitive menu.</li>
  <li> Select <strong>PLCGE</strong> in the dialogue box to select the type of subsystem. <br>
    A new line in Subsystem Editor is appended to the current subsystem configuration in the left pane of the splitter window and the subsystem type is set to <strong>PLCGE</strong>. The user must then assign a name and description to the subsystem.</li>
</ol>
<h3 id="SetMaxNmbrAddress">Setting the Maximum Addresses</h3>
<p>The maximum Float and Boolean Addresses required for the <a href="GEFanucFCS.htm?2#SubsystemsXML">Subsystem</a> can be edited in the right pane of the splitter window of the Subsystem Editor screen.</p>
<p>Since these addresses are defined using textbox dialogues, the EditSpecific menu item is greyed out and the textboxes are edited directly.</p>
<h2 id="RTEInitialiseFile">RTE Initialisation File</h2>
<p>The PLC (Generic) subsystem is configured by the RTE, along with all the other subsystems, as a request from the Management Interface GUI. For legacy purposes, the configuration request can also be specified in the command line of the RTE.</p>
<p>A typical RTE initialisation file would include the following PLC subsystem information:</p>
<table width="95%" border="0" cellspacing="1" cellpadding="2">
  <tr>
    <td colspan="2">#--------------------------------------------------------------------------<br>
      # PLC Subsystem<br>
      #--------------------------------------------------------------------------</td>
  </tr>
  <tr>
    <td width="19%">SS PLC</td>
    <td width="81%">TRUE</td>
  </tr>
  <tr>
    <td width="19%">CI device</td>
    <td width="81%">/dev/tty dir 007</td>
  </tr>
  <tr>
    <td width="19%">CI baudrate</td>
    <td width="81%">19200</td>
  </tr>
  <tr>
    <td width="19%">CI databits</td>
    <td width="81%">8</td>
  </tr>
  <tr>
    <td width="19%">CI stopbits</td>
    <td width="81%">1</td>
  </tr>
  <tr>
    <td width="19%">CI parity</td>
    <td width="81%">N</td>
  </tr>
  <tr>
    <td width="19%">CI RTU_protocol</td>
    <td width="81%">SIGNED</td>
  </tr>
</table>
<p><a href="../../References/DASIniFiles/RTEInitialisationFile.pdf">Click here to see the RTE Initialisation file.</a></p>
<br>
<br>
<!-- #EndEditable -->
</body>

<!-- #EndTemplate --></html>
<script type="text/javascript">highlight();</script>
