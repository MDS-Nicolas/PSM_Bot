<!DOCTYPE HTML>
<html>
<!-- #BeginTemplate "/Templates/Modules.dwt" --><!-- DW6 -->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">  

<!--Start, needed for Search highlighting-->
<style type="text/css">.highlight { background: #FFFF40; }</style>
<script type="text/javascript" src="../../highlight.js"></script>
<!--End, needed for Search highlighting-->

<!-- #BeginEditable "doctitle" --> 
<title>UTR Half Box (UTRH) Subsystem (Option*)</title>
<!-- #EndEditable --> 
<link rel="stylesheet" href="../../stylemodule.css" type="text/css">
</head>

<body>
<!-- #BeginEditable "Main" -->
<div float:left>
  <h1 id="TruTemp">UTR Half Box (UTRH) Subsystem (Option*)<a href="#" onClick="window.print(); return false;"><img src="../../Images/IconPrint.png" alt="Print Icon" width="45" height="62" style="display:block; float: right;" ></a></h1></div>

<h2 id="Overview">Overview</h2>
<p>The UTRH Subsystem provides proDAS with cold junction reference temperatures that are measured with the UTR Half Box hardware. The corresponding temperature data is measured with the VXI Subsystem where temperature channels of the UTR Half Box are configured as regular analogue input channels of the VXI Subsystem.</p>
<h2 id="ConfigUTRHChannel">Configuring UTRH Channels</h2>
<p>To configure UTR reference temperatures for a UTR Half Box:</p>
<p class="Note">If the desired subsystem is missing from the subsystem list or multiple subsystems (of the same type) are required, the operator must first create the subsystem(s). To create a subsystem, see <a href="../SubsystemEditor/SubsystemEditor.htm">Subsystem Editor</a>.</p>
<ol>
  <li>Append a channel by selecting <strong>Append</strong> from the Edit menu described in <a href="../ConfigEditors/ConfigEditors.htm#MenuEdit">Configuration Editors</a><a href="../ConfigEditors/ConfigEditors.htm#MenuEdit" ></a>.</li>
  <li>Select the name of the UTRH Subsystem from the list of available subsystems.
    <div class="Container"><img SRC="images/SelectSubsystemName.PNG" alt="SelectSubsystemName" width="387" height="317"></div>
  </li>
  <br>
  <li>Fill the category independent columns as described in <a href="../ConfigEditors/ConfigEditors.htm#GenCol">Configuration Editors</a><a href="../ConfigEditors/ConfigEditors.htm#GenCol"></a>.</li>
  <li>Fill the Channel Specific Columns as described in <a href="../ChannelEditor/ChannelEditor.htm#TabDelimitFileStructure" >Channel Editor</a>.
    <div class="Container"><img src="images/ChannelEditor.PNG" alt="ChannelEditor" width="700" height="424"></div>
  </li>
  <br>
  <li>Set either the <strong>Box Name</strong> column or the <strong>ID Channel</strong> column to match a corresponding Half Box that is defined in the subsystem.</li>
  <li>Set the <strong>Bridge Input</strong> column to the name of the VXI channel that measures the bridge input voltage.</li>
  <li>Set the <strong>Bridge Output</strong> column to the name of the VXI channel that measures the bridge output voltage.</li>
  <li>Set the <strong>Temperature Unit</strong> column to the required temperature unit.</li>
</ol>
<h2 id="ConfigFileStructure">Configuration File Structure</h2>
<p>Channel configuration information (e.g.: hardware connection, calculation, limits or actions) can be defined and manipulated through the <a href="../ChannelEditor/ChannelEditor.htm" >Channel Editor</a> or imported directly from an XML file or a tab-delimited text file (currently not available).</p>
<p>To import configuration information from an XML file, see <a href="../ConfigEditors/ConfigEditors.htm#FileImportMenu" >Selecting the menu item File - Import in the Configuration Editors module</a>. For detailed XML file structure information required to import an <strong>UTRH</strong> channel, see <a href="#XMLFileStructure" >XML File Structure</a>.</p>
<p>To import configuration information from a tab-delimited file, see <a href="../ChannelEditor/ChannelEditor.htm#FileImportTAB">Extras -- Import TAB-delimited in the Channel Editor module</a>. For detailed tab-delimited file structure information required to import a <strong>UTRH</strong> channel, see <a href="?11#TabDelimitFileStructure"> Tab-Delimited File Structure</a> (currently not available).</p>
<h3 id="XMLFileStructure">XML File Structure</h3>
<h4 id="ChannelsXML">Channels</h4>
<p>The channels are stored in the Channels.xml file in the configuration directories.</p>
<p>A UTRH Channel contains generic information, described in <a href="../ChannelEditor/ChannelEditor.htm#XMLFileStructure" >Channel Editor - Generic Channel Parameters - XML File Structure</a>, and the specific attributes <strong>HalfBoxName</strong>, <strong>IdentificationChannel</strong>, <strong>BridgeInputVoltageChannel</strong>, <strong>BridgeOutputVoltageChannel</strong>, and <strong>TemperatureUnit</strong>. These attributes are explained in the table below.</p>
<table class="Table-Grey">
  <tr>
    <th>Column Name</th>
    <th>XML Attribute Name</th>
    <th>Tab-Delimited Attribute Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Acceptable Values</th>
  </tr>
  <tr>
    <td>Box Name</td>
    <td>HalfBoxName</td>
    <td>BOX_NAME</td>
    <td>Name of the UTR Half Box to which this RTD is  associated. Must be omitted if&nbsp;<strong>IdentificationChannel</strong>&nbsp;is defined.</td>
    <td>String</td>
    <td>All names of Half Boxes defined in the UTR Half  Box collection in the UTRH subsystem.</td>
  </tr>
  <tr>
    <td>ID Channel</td>
    <td>IdentificationChannel</td>
    <td>ID_CHANNEL</td>
    <td>Name of the channel that provides the  identification resistance measurement for the Half Box. Must be omitted if&nbsp;<strong>Half</strong><strong>BoxName </strong>is defined.</td>
    <td>String</td>
    <td>All names of analogue input channels.</td>
  </tr>
  <tr>
    <td>Bridge Input</td>
    <td>BridgeInputVoltageChannel</td>
    <td>BRIDGE_INPUT</td>
    <td>Name of the channel that measures the bridge input voltage.</td>
    <td>String</td>
    <td>All names of analogue input channels.</td>
  </tr>
  <tr>
    <td>Bridge Output</td>
    <td>BridgeOutputVoltageChannel</td>
    <td>BRIDGE_OUTPUT</td>
    <td>Name of the channel that measures the bridge output voltage.</td>
    <td>String</td>
    <td>All names of analogue input channels.</td>
  </tr>
  <tr>
    <td>Temperature Unit</td>
    <td>TemperatureUnit</td>
    <td>TEMP_UNIT </td>
    <td>Unit of the RTD Temperature.</td>
    <td>String</td>
    <td>DegC, DegF, DegK or DegR</td>
  </tr>
</table>
<p>The structure of a UTRH Channel complies with the following example:</p>
<blockquote><code>&lt;Channels LastModificationDate=&quot;<strong>2015-06-11 13:17:09</strong>&quot; Version=&quot;<strong>1.1</strong>&quot;&gt;<br>
  &lt;Channel Name=&quot;UTRH1&quot; <br>
  Description=&quot;&quot; <br>
  Enabled=&quot;true&quot; <br>
  LastModificationDate=&quot;2015-06-11 13:17:09&quot; <br>
  SubsystemName=&quot;ZZUTRH&quot; <br>
  SubsystemType=&quot;UTRH&quot; <br>
  AlternateName=&quot;&quot; <br>
  DataType=&quot;Float&quot; <br>
  InitialValue=&quot;-999999&quot; <br>
  Format=&quot;4.2f&quot; <br>
  UpdateRate=&quot;1&quot; <br>
  QualityCeiling=&quot;GOOD&quot; <br>
  Critical=&quot;false&quot; <br>
  EngineeringUnit=&quot;-&quot; <br>
  DisplayMin=&quot;0&quot; <br>
  DisplayMax=&quot;100&quot; <br>
  DeadBand=&quot;0&quot; <br>
  Output=&quot;false&quot; <br>
  ReferenceChannel=&quot;&quot; <br>
  Group=&quot;&quot; <br>
  SignalId=&quot;&quot; <br>
  CalSensor=&quot;&quot; <br>
  CalGroup=&quot;&quot; <br>
  FixedSensor=&quot;&quot; <br>
  CustomerSensor=&quot;&quot; <br>
  FullsetStability=&quot;false&quot; <br>
  ContinuousLog=&quot;true&quot; <br>
  HalfBoxName=&quot;UTRH1&quot; <br>
  IdentificationChannel=&quot;&quot; <br>
  BridgeInputVoltageChannel=&quot;Bridge1InVolt&quot; <br>
  BridgeOutputVoltageChannel=&quot;Bridge1OutVolt&quot; <br>
  TemperatureUnit=&quot;DegK&quot;/&gt;<br>
  &lt;/Channels&gt;<br>
</code></blockquote>
<h4 id="SubsystemsXML">Subsystems</h4>
<p>The subsystem definitions are stored in the Subsystems.xml files in the configuration directories.</p>
<p>A UTRH Subsystem contains generic information, described in <a href="../SubsystemEditor/SubsystemEditor.htm#XMLFileStructure" >Subsystem Editor - Generic Subsystem Parameters - XML File Structure</a> and the specific attributes:</p>
<table class="Table-Grey">
  <tr>
    <th>Column Name</th>
    <th>XML Attribute Name</th>
    <th>Tab-Delimited Attribute Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Acceptable Values</th>
  </tr>
  <tr>
    <td>Half Box Name</td>
    <td>HalfBoxName</td>
    <td>HALF_BOX_NAME</td>
    <td>The name of the UTR Half Box. </td>
    <td>String</td>
    <td>An arbitrary case sensitive string</td>
  </tr>
  <tr>
    <td>ID Resistance</td>
    <td>IdentificationResistance</td>
    <td>IDENT_RESISTANCE</td>
    <td>The value of the Identification Resistance.</td>
    <td>Float</td>
    <td>A float greater than 1.0</td>
  </tr>
  <tr>
    <td>Tolerance</td>
    <td>IdentificationResistanceTolerance</td>
    <td>TOLERANCE</td>
    <td>The tolerance value for reading the identification resistance.</td>
    <td>Float</td>
    <td>Default value 5.0</td>
  </tr>
  <tr>
    <td>Coefficient A</td>
    <td>CoefficientA</td>
    <td>POLY_COEFF_A</td>
    <td>The coefficient A used to convert the bridge voltage to a RTD resistance.</td>
    <td>Float</td>
    <td>A float less than 1000.0</td>
  </tr>
  <tr>
    <td>Coefficient B</td>
    <td>CoefficientB</td>
    <td>POLY_COEFF_B</td>
    <td>The coefficient B used to convert the bridge voltage to a RTD resistance.</td>
    <td>Float</td>
    <td>A float less than 1000.0</td>
  </tr>
  <tr>
    <td>Coefficient C</td>
    <td>CoefficientC</td>
    <td>POLY_COEFF_C</td>
    <td>The coefficient C used to convert the bridge voltage to a RTD resistance.</td>
    <td>Float</td>
    <td>A float less than 1000.0</td>
  </tr>
</table>
<p>The structure of an UTRH Subsystem is shown in the following example:</p>
<blockquote>
  <pre>&lt;Subsystems   LastModificationDate=&quot;<strong>2008-09-04   14:13:03</strong>&quot; Version=&quot;<strong>1.1</strong>&quot;&gt;
&lt;Subsystem Name=&quot;ZZUTRH&quot;
Description=&quot;&quot;
Enabled=&quot;true&quot;
LastModificationDate=&quot;2008-04-28 13:44:58&quot;
Id=&quot;0&quot;
Type=&quot;UTRH&quot;
CreationDate=&quot;2008-04-28 13:44:28&quot;&gt;
&lt;HalfBoxes&gt;
&lt;HalfBox
HalfBoxName=&quot;UTRH1&quot;
IdentificationResistance=&quot;12&quot;
IdentificationResistanceTolerance=&quot;5&quot;
CoefficientA=&quot;1&quot;
CoefficientB=&quot;2&quot;
CoefficientC=&quot;3&quot; /&gt;
&lt;/HalfBoxes&gt;
&lt;/Subsystem&gt;</pre>
</blockquote>
<h3 id="TabDelimitFileStructure">Tab-Delimited File Structure (Future Implementation)</h3>
<p>The UTRH Subsystem channel definition includes all <a href="../ChannelEditor/ChannelEditor.htm#TabDelimitFileStructure">generic channel definition columns</a> and the specific UTRH Subsystem parameters defined in the tab-delimited configuration file.</p>
<p>The rules, syntax and guidelines for creating UTRH subsystem channels are described in the following table:</p>
<table class="Table-Grey">
  <tr>
    <th>Column Name</th>
    <th>Description</th>
    <th>Syntax (data type expected in the column)</th>
    <th>Multiple Values Allowed (See Note*)</th>
    <th>Data Required (See Note**)</th>
  </tr>
  <tr>
    <td>BOX_NAME</td>
    <td>Specifies the name of the UTR Half Box to which the RTD is associated. May be omitted if the ID Resistance channel name is defined.</td>
    <td>40 character alphanumeric, (case sensitive)</td>
    <td>No</td>
    <td>See Description.</td>
  </tr>
  <tr>
    <td>ID_CHANNEL</td>
    <td>The channel name that provides the Identification Resistance measurement for this UTR Half Box. May be omitted if the BOX_NAME is defined.</td>
    <td>A channel name</td>
    <td>No</td>
    <td>See Description.</td>
  </tr>
  <tr>
    <td>BRIDGE_INPUT</td>
    <td>The channel name of the bridge input voltage measurement channel.</td>
    <td>A channel name</td>
    <td>No</td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>BRIDGE_OUTPUT</td>
    <td>The channel name of the bridge ouput voltage measurement channel.</td>
    <td>A channel name</td>
    <td>No</td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>TEMP_UNIT</td>
    <td>Unit of the RTD temperature.</td>
    <td>DegC, DegF, DegK or DegR</td>
    <td>No</td>
    <td>Yes</td>
  </tr>
  <tr>
    <td colspan="5"><p class="Note">&quot;Yes&quot; indicates that more than one column value may be specified for a single channel. In this case, additional lines 
      follow the first line of a channel definition.<br>
      <br>
      An additional line is identified by a &quot;*&quot; in its first column (the generic NAME column). Only fields that cause a channel 
      to be defined on more than one line (like LIMIT_TYPE when a channel has more than one limit defined) are qualified as multi-line. 
      Fields that appear multiple times as attributes of a multi-line field (like VALUE), are not qualified as multi-line.<br>
      <br>
      &quot;No&quot; means that the channel is restricted to a single line of the spread sheet.</p>
      <p class="Note">&quot;Yes&quot; indicates that the field must contain data (it cannot be left blank or filled with an asterisk).<br>
        <br>
        &quot;No&quot; indicates that the field is always optional.</p></td>
  </tr>
</table>
<h2 id="SSEUTRH">Subsystem Editor for UTRH Channels</h2>
<p>To edit the UTRH Subsystem, the Subsystem Editor must be selected from within the Configuration Administrator.</p>
<p>The tool bar in the Configuration Administrator allows the various configuration editors available for proDAS to be selected.</p>
<p>The Subsystem Editor allows new subsystems to be added to the current configuration.</p>
<div class="Container"><img src="images/SubsystemEditor.PNG" alt="SubsystemEditor" width="700" height="423"></div>
<br>
<p><strong>To add a new subsystem:</strong></p>
<ol>
  <li>From the Edit menu, select <strong>Append Data Record</strong> or, in the left pane of the splitter window and then click the right mouse button and select <strong>Append Data Record </strong>from the context sensitive menu.</li>
  <li>Select <strong>UTRH</strong> in the dialogue box to select the type of subsystem.<br>
    A new line in the Subsystem Editor is appended to the current subsystem configuration in the left pane of the splitter window and the subsystem type is set to UTRH. The user must then assign a name and description to the subsystem.</li>
</ol>
<h2 id="RTEInitialiseFile">RTE Initialisation File</h2>
<p>The UTRH Subsystem is configured by the RTE, along with all the other subsystems, as a request from the Management Interface GUI. For legacy purposes, the configuration request can also be specified in the command line of the RTE.</p>
<p>A typical RTE initialisation file would include the following UTRH Subsystem information:</p>
<p>#--------------------------------------------------------------------------<br>
  # UTRH Subsystem<br>
  #--------------------------------------------------------------------------<br>
  SS UTRH FALSE</p>
<p><a href="../../References/DASIniFiles/RTEInitialisationFile.pdf">Click here to see the RTE Initialisation file</a>.</p>
<br>
<br>
<!-- #EndEditable -->
</body>

<!-- #EndTemplate --></html>
<script type="text/javascript">highlight();</script>
